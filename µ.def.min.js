// Simple deferred implementation.
// Usage:
// var def = new µ.def();
// def.onpass(yay).onpass(dance).onfail(boo);
// def.pass('party'); // yay() and dance() are called with 'party'
µ.def=function(){var a={},b=this;["pass","fail"].forEach(function(c){a[c]=[],b["on"+c]=function(d){return a[c].push(d),b},b[c]=function(){var d=arg(arguments);a[c].forEach(function(a){a.apply(!1,d)}),b.result=c}})};